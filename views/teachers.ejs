<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <%- include ./layouts/title %>
    <%- include ./layouts/style%>
  </head>
  <body>
    <h1><%=header %></h1>
    <%- include ./layouts/menubar %>
    <table border="1">
      <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Subject Name</th>
      </tr>
      
        <% data_teacher.forEach( data => { %>
          <tr>
          <td><%= data.id %></td>
          <td><%= data.first_name %> </td>
          <td><%= data.last_name %></td>
          <td><%= data.email %></td>  
          <% if (data.SubjectId === null){ %>
          <td>Unassigned</td>
          <% } else { %>
          <td><%= data.Subject.subject_name %></td>
          <% } %>
          <td><a href="/teachers/edit/<%= data.id %>">edit</a></td>
          <td><a href="/teachers/delete/<%= data.id %>">delete</a></td>
          </tr>
        <% }) %> 
    </table>
    <br>
    <form action="/teachers" method="post">
      <table>
        <tr>
        <td>First Name:</td>  
        <td><input type="text" name="first_name" placeholder="input first name"></td>
        </tr>
        <tr>
          <td>Last Name:</td>
          <td><input type="text" name="last_name" placeholder="input last name"></td>
        </tr>
        <tr>
          <td>Email:</td>
          <td><input type="text" name="email" placeholder="input email"></td>
        </tr>
        <tr>
          <td>Subjects Id:</td>
          <td>
            <select name="SubjectId">
              <option value="">pilih subject</option>
              <% data_subject.forEach( dt =>  { %>
                <option value="<%= dt.id %>"><%= dt.subject_name %></option>
              <% }) %>
            </select>
          </td>
        </tr>
        <tr>
          <td><input type="submit" value="Submit"></td>
        </tr>
      </table>
    </form>
    <br>
  </body>
</html>
